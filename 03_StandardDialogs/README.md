# 03 Пример стандартных диалоговых окон в Qt

Демонстрация работы приложения с GUI состоящего из объектов, расположенных на форме `MainWindow`:
- от класса `QPushButton`
- от класса `QLabel`
- от класса `QLineEdit`

В данном примере показаны стандартные диалоговые окна **Qt** и как с ними работать. При нажатии на кнопку `QPushButton` происходит вызов соответствующего диалога и последующий вывод полученных значений в метку класса `QLabel`. В единственном случае, когда надо ввести значение в поле `lineEditPrint`, это когда надо продемонстрировать работу с диалогом работы с принтером.

## Диалоги от класса QInputDialog
Тут присутствуют примеры довольно простых диалогов предназначенных для ввода данных.
- метод `getInt()` для ввода целы чисел
- метод `getDouble()` для ввода дробных чисел
- метод `getItem()` для ввода из некоторого диапазона
- метод `getText()` для ввода текста

При нажатии на кнопку происходит вызов одного из этих методов и открывается соответствующие диалоговое окно. Пользователь вводит какое-нибудь значение и нажимает кнопку **OK**. После чего окно закрывается и введённое значение должно отобразиться в соответствующей метке.

## Диалоги от класса QFileDialog
Тут присутствуют примеры диалогов, предназначенных для работы с файлами и каталогами.
- метод `getExistingDirectory()` для выбора каталога
- метод `getOpenFileName()` для выбора файла (открытие)
- метод `getOpenFileNames()` для выбора нескольких файлов (открытие)
- метод `getSaveFileName()` для выбора файла (сохранение)

При нажатии на кнопку происходит вызов одного из этих методов и открывается соответствующие диалоговое окно. Пользователь выбирает нужный ему каталог или файл или файлы и его выбор будет показан в соответствующей диалоговому окну метке.

## Диалог от класса QErrorMessage
Этот класс предназначен для вывода сообщений об ошибках. Особенностью является возможность, сняв отметку внутри этого диалогового окна больше его не выводить, но для этого надо, чтобы это окно было либо в статической памяти, либо в динамической.

## Диалоги от класса QMessageBox
Тут присутствуют примеры диалогов, предназначенных для информирования пользователя и предложения выбора дальнейших действий.
- метод `aboutQt()` для вывода информации о **Qt**
- метод `about()` для вывода информации о программе
- метод `information()` для информирования пользователя о произошедшем событии
- метод `question()` что бы спросить пользователя о дальнейших действиях
- метод `warning()` что бы предупредить пользователя и спросить о дальнейших действиях
- метод `critical()` что бы предупредить пользователя о проблеме и спросить о дальнейших действиях

Класс `QMessageBox` позволяет в каждом из этих методов переопределить стандартный набор предлагаемых пользователю кнопок и отображаемой картинки. Ещё можно создать диалоговое окно не через вызов этих методов, а через создание объекта от класса `QMessageBox`, где в конструкторе надо будет указать нужный набор параметров. Это показано на примере окна **warning**, которое как раз формируется таким образом.

## Диалоги от классов QFontDialog и QColorDialog
Эти два класса предназначены для возможности пользователю удобно указать настройки шрифта и цвета. Работают аналогично вышеописанных методов. После нажатия на кнопки, откроются окна, где пользователю будет предложено сделать выбор. После чего надо будет нажать на кнопку **OK** и окно закроется, а выбранный вариант будет отображаться в соответствующей метке.

## Диалоги от классов печати QPrintDialog, QPageSetupDialog и QPrintPreviewDialog
Для работы с этими окнами создан объект `printer` от класса `QPrinter`, который является устройством печати. Сами окна могут быть в автоматической области памяти. Так же необходим документ, через который будет осуществляться печать. В примере для этого используется объект `textDoc` класса `QTextDocument`. В случае печати пользователь нажимает на кнопку и создаётся объект `printDialog`, затем извлекается текст из объекта `lineEditPrint` с добавлением **html** форматирования. После чего отправляется в объект `textDoc` и если пользователь нажмёт кнопку согласия, то из этого объекта будет вызван метода `print()`, куда следует отправить указатель на устройство печати.

Для настройки печати достаточно вызвать метод `on_pushButtonPageSetup_clicked` нажатием соответствующей кнопки. После чего будет создан автоматический объект `setupDialog`, а методом `exec()` перехвачено управление, пока пользователь не нажмёт **OK** в окне.

Предварительный просмотр работает аналогичным образом как в случае с печатью, кроме вызова метода `print()`. Тут вместо этого необходимо связать методом `connect()` сигнал `paintRequested` объекта `printPreviewDialog` с методом `printPreviewNeeds(QPrinter *m_printer)` и запустить метод `exec()` для перехвата управления. Связывание необходимо для передачи текста в окно предварительного просмотра.

## Диалоги от класса индикатор выполнения QProgressDialog
Для демонстрации работы этого диалогового окна необходим объект, который бы менял значения от 0 до 100 со временем. Для этого подходит объект `timer` от класса `QTimer`, который создаём в конструкторе класса `MainWindow`. Затем необходимо связать его с методом обновления данных `updateProgress()`, где диалоговому окну передавать новое значение, генерировать следующее и проверять не является ли оно предельным. Если оно предельное, то останавливать таймер и обнулять значение. Так же в конструкторе связывать кнопку выхода диалогового окна `progressDialog` с методом `cancel()`, останавливающим таймер и обнуляющим значение шага. Ранее в Qt срабатывал автозапуск таймера, поэтому надо было делать `timer->start(0);`. В текущей версии автозапуска таймера не происходит.
